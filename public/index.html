<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mystic AI Tarot</title>
    <link rel="stylesheet" href="style.css">
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

    <div class="main-glass-panel">
        <header>
            <!-- Back button (Hidden on home) -->
            <button id="back-btn" class="nav-btn hidden" onclick="goBack()">
                <i class="fas fa-arrow-left"></i>
            </button>
            
            <!-- Clickable Title to Reset -->
            <h1 onclick="location.reload()" title="Reset Reading">Mystic AI Tarot</h1>
            
            <!-- Theme Indicator -->
            <div id="deck-indicator" class="hidden">
                <span id="current-theme">Classic</span>
            </div>
        </header>

        <!-- STEP 1: CHOOSE DECK (Homepage Look) -->
        <section id="step-1" class="step active">
            <h3 class="section-title">Choose Your Deck</h3>
            
            <div class="cards-grid">
                <div class="choice-card" onclick="selectDeck('Classic')">
                    <div class="icon">üîÆ</div>
                    <span>Classic</span>
                </div>
                <div class="choice-card" onclick="selectDeck('Anime')">
                    <div class="icon">üå∏</div>
                    <span>Anime</span>
                </div>
                <div class="choice-card" onclick="selectDeck('Goth')">
                    <div class="icon">ü¶á</div>
                    <span>Goth</span>
                </div>
            </div>

            <!-- The Disclaimer -->
            <div class="footer-disclaimer">
                <p>‚ú® Powered by <strong>Fisher-Yates</strong> True Random Shuffling.</p>
                <p class="sub-disclaimer">This is for entertainment purposes only.<br>You create your own destiny.</p>
            </div>
        </section>

        <!-- STEP 2: SPREAD -->
        <section id="step-2" class="step">
            <h3 class="section-title">Select Spread Type</h3>
            <div class="list-options">
                <button onclick="selectSpread('1 Card Pull', 1)">üÉè Single Card Guidance</button>
                <button onclick="selectSpread('3 Card Spread', 3)">‚è≥ Past, Present, Future</button>
                <button onclick="selectSpread('Career & Money', 3)">üí∞ Career & Wealth</button>
                <button onclick="selectSpread('Love Spread', 3)">‚ù§Ô∏è Love & Connection</button>
                <button onclick="selectSpread('Celtic Cross', 10)">‚ú® Celtic Cross (Deep)</button>
            </div>
        </section>

        <!-- STEP 3: QUESTION -->
        <section id="step-3" class="step">
            <h3 class="section-title">Focus Your Energy</h3>
            <textarea id="user-question" placeholder="What do you seek to know? (e.g., Will I find love soon?)"></textarea>
            
            <div style="text-align:center; margin: 20px 0;">
                <p style="color:var(--accent); font-style:italic;" id="breath-text">Inhale...</p>
            </div>

            <button class="btn-action" onclick="startPulling()">I am ready</button>
        </section>

        <!-- STEP 4: PULL CARDS -->
        <section id="step-4" class="step">
            <h3 id="pull-instruction">Tap the Deck</h3>
            <p style="text-align:center; opacity:0.7;">Cards remaining: <span id="cards-left">0</span></p>
            
            <div class="table-top">
                 <div id="deck-pile" class="card-stack" onclick="drawCard()"></div>
            </div>
            
            <div id="drawn-cards-container"></div>

            <button id="read-btn" class="btn-action hidden" onclick="getAIReading()">‚ú® Reveal Prophecy ‚ú®</button>
        </section>

        <!-- STEP 5: READING -->
        <section id="step-5" class="step">
            <h3 class="section-title">The Interpretation</h3>
            
            <div id="loading" class="hidden">
                <div style="text-align:center; margin:20px;">
                    <i class="fas fa-spinner fa-spin" style="font-size:2rem; color:var(--accent);"></i>
                    <p>Consulting the spirits...</p>
                </div>
            </div>

            <div id="error-box" style="color:red; text-align:center;" class="hidden"></div>

            <div id="ai-response"></div>
            
            <div class="footer-actions">
                <button class="btn-secondary" onclick="copyReading()"><i class="fas fa-copy"></i> Save / Copy</button>
                <button class="btn-secondary" onclick="location.reload()"><i class="fas fa-redo"></i> New Reading</button>
                
                <a href="#" class="btn-action" style="text-align:center; text-decoration:none; color:#000;">
                    <i class="fas fa-coffee"></i> Buy me a Coffee
                </a>

                <div class="social-links">
                    <a href="#"><i class="fab fa-twitter"></i></a>
                    <a href="#"><i class="fab fa-instagram"></i></a>
                    <a href="#"><i class="fab fa-tiktok"></i></a>
                </div>
            </div>
        </section>
    </div>

    <script src="script.js"></script>
</body>
</html>
